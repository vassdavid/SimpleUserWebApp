{"version":3,"sources":["webpack:///./resources/js/components/CreateUser.vue?2ccc","webpack:///./resources/js/components/CreateUser.vue?0eb7","webpack:///resources/js/components/CreateUser.vue","webpack:///./resources/js/components/CreateUser.vue"],"names":["components_CreateUservue_type_script_lang_js_","data","name","dateOfBirth","emails","respErrors","sendedData","alertDangerMessage","alertSuccessMessage","computed","today","day","Date","getFullYear","getMonth","getDate","formState","state","i","this","emailState","nameState","dateState","emailsChanged","change","length","$","each","key","email","bind","test","getTime","now","nameInvalidFeedback","feedback","err","methods","index","str","duplicatedEmail","indexOf","lastIndexOf","emailInvalidFeedback","deleteRow","splice","addRow","evt","preventDefault","push","reset","onReset","onSubmit","date_of_birth","axios","post","then","response","value","join","catch","error","errors","message","component","Object","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","_v","role","_s","_m","_e","on","submit","description","label","label-for","invalid-feedback","valid-feedback","max","trim","model","callback","$$v","expression","type","min","aria-invalid","_l","$set","disabled","variant","click","$event","data-dismiss","aria-label","aria-hidden","__webpack_exports__"],"mappings":"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","file":"6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"px-md-2\",attrs:{\"id\":\"CreateUser\"}},[_c('h1',[_vm._v(\"Make New User\")]),_vm._v(\" \"),(_vm.alertDangerMessage != ' ')?_c('div',{staticClass:\"alert alert-danger my-2 alert-dismissible fade show\",attrs:{\"role\":\"alert\"}},[_c('strong',[_vm._v(\"Upoad error:\")]),_vm._v(\" \"+_vm._s(_vm.alertDangerMessage)+\"\\n    \"),_vm._m(0)]):_vm._e(),_vm._v(\" \"),(_vm.alertSuccessMessage != ' ')?_c('div',{staticClass:\"alert alert-success my-2 alert-dismissible fade show\",attrs:{\"role\":\"alert\"}},[_c('strong',[_vm._v(\"Create new user is successful:\")]),_vm._v(\" \"+_vm._s(_vm.alertSuccessMessage)+\"\\n    \"),_vm._m(1)]):_vm._e(),_vm._v(\" \"),_c('b-form',{on:{\"submit\":_vm.onSubmit,\"reset\":_vm.onReset}},[_c('div',{attrs:{\"role\":\"group\"}},[_c('b-form-group',{attrs:{\"id\":\"inputNameGr\",\"description\":\"Let us know your name.\",\"label\":\"Enter your name\",\"label-for\":\"input1\",\"invalid-feedback\":_vm.nameInvalidFeedback,\"valid-feedback\":\"Thank you!\",\"state\":_vm.nameState,\"max\":\"35\"}},[_c('b-form-input',{attrs:{\"id\":\"inputName\",\"state\":_vm.nameState,\"trim\":\"\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"id\":\"inputDoBGr\",\"description\":\"Let us know your birthdate.\",\"label\":\"Enter your birthdate\",\"label-for\":\"inputDoB\",\"invalid-feedback\":\"Please give valid birthdate\",\"valid-feedback\":\"Thank you!\",\"state\":_vm.dateState}},[_c('b-form-input',{attrs:{\"id\":\"inputDoB\",\"state\":_vm.dateState,\"type\":\"date\",\"min\":\"1900-01-01\",\"max\":_vm.today,\"aria-invalid\":\"true\",\"trim\":\"\"},model:{value:(_vm.dateOfBirth),callback:function ($$v) {_vm.dateOfBirth=$$v},expression:\"dateOfBirth\"}})],1),_vm._v(\" \"),_vm._l((_vm.emails),function(email,index){return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('b-form-group',{attrs:{\"id\":'inputEmail' + index + 'Gr',\"description\":\"Let us know your email.\",\"label\":'Enter your email ' + (index+1),\"label-for\":'inputEmail' + index,\"invalid-feedback\":_vm.emailInvalidFeedback(index),\"valid-feedback\":\"Thank you!\",\"state\":_vm.emailState(index)}},[_c('b-input-group',[_c('b-form-input',{attrs:{\"id\":'inputEmail'+index,\"state\":_vm.emailState(index),\"type\":\"email\",\"trim\":\"\"},model:{value:(_vm.emails[index]),callback:function ($$v) {_vm.$set(_vm.emails, index, $$v)},expression:\"emails[index]\"}}),_vm._v(\" \"),_c('b-input-group-append',[_c('b-button',{attrs:{\"disabled\":_vm.emails.length == 1,\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.deleteRow(index)}}},[_vm._v(\"\\n                  Delete email\\n                \")])],1)],1)],1)],1)])}),_vm._v(\" \"),_c('button',{staticClass:\"mb-3 btn btn-secondary\",on:{\"click\":_vm.addRow}},[_vm._v(\"+ Add email\")])],2),_vm._v(\" \"),_c('div',{staticClass:\"text-right\"},[_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"primary\",\"disabled\":!_vm.formState}},[_vm._v(\"Submit\")]),_vm._v(\" \"),_c('b-button',{attrs:{\"type\":\"reset\",\"variant\":\"danger\"}},[_vm._v(\"Reset\")])],1)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"alert\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"alert\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateUser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateUser.vue?vue&type=script&lang=js&\"","<template>\r\n  <div id=\"CreateUser\" class=\"px-md-2\">\r\n    <h1>Make New User</h1>\r\n    <!-- alert messages -->\r\n    <!-- danger -->\r\n    <div class=\"alert alert-danger my-2 alert-dismissible fade show\" role=\"alert\" v-if=\"alertDangerMessage != ' '\">\r\n      <strong>Upoad error:</strong> {{ alertDangerMessage }}\r\n      <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n        <span aria-hidden=\"true\">&times;</span>\r\n      </button>\r\n    </div>\r\n    <!-- success -->\r\n    <div class=\"alert alert-success my-2 alert-dismissible fade show\" role=\"alert\" v-if=\"alertSuccessMessage != ' '\">\r\n      <strong>Create new user is successful:</strong> {{ alertSuccessMessage }}\r\n      <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n        <span aria-hidden=\"true\">&times;</span>\r\n      </button>\r\n    </div>\r\n\r\n\r\n    <b-form @submit=\"onSubmit\" @reset=\"onReset\">\r\n      <div role=\"group\">\r\n\r\n        <!-- Name: -->\r\n        <b-form-group\r\n          id=\"inputNameGr\"\r\n          description=\"Let us know your name.\"\r\n          label=\"Enter your name\"\r\n          label-for=\"input1\"\r\n          :invalid-feedback=\"nameInvalidFeedback\"\r\n          valid-feedback=\"Thank you!\"\r\n          :state=\"nameState\"\r\n          max=\"35\"\r\n        >\r\n          <b-form-input id=\"inputName\" :state=\"nameState\" v-model=\"name\" trim />\r\n          </b-form-group>\r\n        <!-- Date of Birth -->\r\n        <b-form-group\r\n          id=\"inputDoBGr\"\r\n          description=\"Let us know your birthdate.\"\r\n          label=\"Enter your birthdate\"\r\n          label-for=\"inputDoB\"\r\n          invalid-feedback=\"Please give valid birthdate\"\r\n          valid-feedback=\"Thank you!\"\r\n          :state=\"dateState\"\r\n        >\r\n          <b-form-input\r\n            id=\"inputDoB\"\r\n            :state=\"dateState\"\r\n            type=\"date\"\r\n            v-model=\"dateOfBirth\"\r\n            min=\"1900-01-01\"\r\n            :max=\"today\"\r\n            aria-invalid=\"true\"\r\n            trim\r\n          />\r\n        </b-form-group>\r\n\r\n        <!-- emails -->\r\n        <div class=\"row\" v-for=\"(email, index) in emails\">\r\n          <!-- email -->\r\n          <div class=\"col\">\r\n            <b-form-group\r\n              :id=\"'inputEmail' + index + 'Gr'\"\r\n              description=\"Let us know your email.\"\r\n              :label=\"'Enter your email ' + (index+1) \"\r\n              :label-for=\"'inputEmail' + index\"\r\n              :invalid-feedback=\"emailInvalidFeedback(index)\"\r\n              valid-feedback=\"Thank you!\"\r\n              :state=\"emailState(index)\"\r\n            >\r\n              <b-input-group>\r\n                <b-form-input\r\n                :id=\"'inputEmail'+index\"\r\n                :state=\"emailState(index)\"\r\n                type=\"email\"\r\n                v-model=\"emails[index]\"\r\n                trim\r\n                />\r\n                <b-input-group-append>\r\n                  <b-button\r\n                    :disabled=\"emails.length == 1\"\r\n                    @click=\"deleteRow(index)\"\r\n                    variant=\"danger\"\r\n                  >\r\n                    Delete email\r\n                  </b-button>\r\n                </b-input-group-append>\r\n\r\n              </b-input-group>\r\n\r\n          </b-form-group>\r\n        </div>\r\n\r\n        </div>\r\n          <button @click=\"addRow\" class=\"mb-3 btn btn-secondary\">+ Add email</button>\r\n        </div>\r\n\r\n        <div class=\"text-right\">\r\n          <b-button\r\n            type=\"submit\"\r\n            variant=\"primary\"\r\n            :disabled=\"!formState\"\r\n          >Submit</b-button>\r\n          <b-button type=\"reset\" variant=\"danger\">Reset</b-button>\r\n        </div>\r\n\r\n    </b-form>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      name: '',\r\n      dateOfBirth: '',\r\n      emails: [ ' ' ],\r\n      respErrors: [],\r\n      sendedData: [],\r\n      alertDangerMessage: ' ',\r\n      alertSuccessMessage: ' '\r\n    }\r\n  },\r\n  computed: {\r\n    today() {\r\n      let day = new Date()\r\n      return (\r\n        day.getFullYear()+ '-' +\r\n        ((day.getMonth()+1) < 10 ?  '0' : '') + (day.getMonth()+1) + '-' +\r\n        (day.getDate() < 10 ?  '0' : '') + day.getDate()\r\n      )\r\n    },\r\n    formState() {\r\n      let state = true, i = -1\r\n      while(this.emails[++i]) {\r\n          if(! this.emailState(i) ) {\r\n              state = false\r\n              break\r\n          }\r\n      }\r\n      if(state) {\r\n        state = this.nameState && this.dateState\r\n      }\r\n      return state\r\n    },\r\n    emailsChanged() {\r\n      let change = false\r\n      //get changing var\r\n      if(this.sendedData.emails) {\r\n        if(this.sendedData.emails.length == this.emails.length)\r\n          $.each(this.sendedData.emails, function(key, email){\r\n            if(email != this.emails[key]) {\r\n              change = true\r\n              return false\r\n            }\r\n          }.bind(this))\r\n        else\r\n          change = true\r\n      }\r\n      return change\r\n    },\r\n    nameState() {\r\n      let state = null\r\n      if( this.name != '' ) //default state\r\n        state = (\r\n          (\r\n            !this.respErrors['name']\r\n            ||\r\n            (\r\n              this.sendedData['name']\r\n              &&\r\n              this.sendedData['name'] != this.name\r\n            )\r\n          )\r\n          &&\r\n          this.name.length > 2\r\n          &&\r\n          this.name.length <= 35\r\n        )\r\n      return state\r\n    },\r\n    dateState() {\r\n      let dateFormat = /^\\d{4}-\\d{2}-\\d{2}$/, state = false\r\n      if(this.dateOfBirth == '')\r\n        state = null\r\n      else if( dateFormat.test(this.dateOfBirth) ) {\r\n        let date = new Date(this.dateOfBirth)\r\n        state = date.getTime() < Date.now()\r\n      }\r\n      return state\r\n    },\r\n    nameInvalidFeedback() {\r\n      let feedback = 'Invalid name format!'\r\n      //get response errors\r\n      if (\r\n        this.respErrors['name']\r\n        &&\r\n        this.sendedData['name'] == this.name\r\n      ) {\r\n        feedback = '(name: ' + this.sendedData['name'] + ') error:'\r\n        $.each(this.respErrors['name'], function(key,err){\r\n          feedback += ' ' + err\r\n        })\r\n      }\r\n      return feedback\r\n    }\r\n  },\r\n  methods: {\r\n    emailState(index) {\r\n      if(this.emails[index] == ' ')\r\n        return null\r\n      let mailFormat = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/,\r\n        str = this.emails[index]\r\n      return (\r\n        (\r\n          !this.respErrors['emails.'+index]\r\n          ||\r\n          this.emailsChanged\r\n        )\r\n        &&\r\n        mailFormat.test(str)\r\n        &&\r\n        !this.duplicatedEmail(index)\r\n      )\r\n    },\r\n    duplicatedEmail(index) {\r\n      return this.emails.indexOf(this.emails[index]) != this.emails.lastIndexOf(this.emails[index])\r\n    },\r\n    emailInvalidFeedback(index){\r\n      let feedback = 'Please give valid email'\r\n      //get response errors\r\n      if(this.respErrors['emails.'+index] && !this.emailsChanged) {\r\n        feedback = '(email '+ (index+1) +': ' + this.sendedData.emails[index] + ') error:'\r\n        $.each(this.respErrors['emails.'+index], function(key, err){\r\n          feedback += ' ' + err\r\n        })\r\n      } else if(this.duplicatedEmail(index)) {\r\n        feedback = 'Email is duplicated!'\r\n      }\r\n      return feedback\r\n    },\r\n    deleteRow(index) {\r\n      if(this.emails.length > 1)\r\n        this.emails.splice(index, 1)\r\n    },\r\n    addRow(evt) {\r\n      evt.preventDefault()\r\n      this.emails.push(' ')\r\n    },\r\n    reset() {\r\n      this.name = this.dateOfBirth = ''\r\n      this.emails = [ ' ' ]\r\n    },\r\n    onReset(evt) {\r\n      evt.preventDefault()\r\n      this.reset()\r\n    },\r\n    onSubmit(evt) {\r\n      evt.preventDefault()\r\n      //make nonrective\r\n      let emails = []\r\n      $.each(this.emails, function(key,email){\r\n        emails.push(email)\r\n      })\r\n       //data state when send to server\r\n      this.sendedData = {\r\n        name: this.name,\r\n        date_of_birth: this.dateOfBirth,\r\n        emails: emails\r\n      }\r\n      //set resp data to default\r\n      this.alertDangerMessage = this.respErrors =  this.alertSuccessMessage = ' '\r\n      //all form data is ready\r\n      if(this.formState) {\r\n        axios.post('/api/user', this.sendedData)\r\n          .then(function (response) {\r\n            let emails = []\r\n            $.each(response.data.emails, function(key, value){\r\n              emails.push(value.email)\r\n            })\r\n            //make success message\r\n            this.alertSuccessMessage = 'new user: (name: ' + response.data.name + ', date of birth: ' + response.data.date_of_birth + ', emails: ' + emails.join(', ') + ')'\r\n            //reset forms\r\n            this.reset()\r\n          }.bind(this))\r\n          .catch(function (error) {\r\n            //net::ERR_CONNECTION_REFUSED\r\n            if(!error.response) {\r\n              this.alertDangerMessage = \"Failed to send data to server! Can't access the server.\"\r\n            }\r\n            else {\r\n              //store messages\r\n              if(error.response.data.errors)\r\n                this.respErrors = error.response.data.errors\r\n              if(error.response.data.message)\r\n                this.alertDangerMessage = error.response.data.message\r\n\r\n            }\r\n           }.bind(this));\r\n       }\r\n     },\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n","import { render, staticRenderFns } from \"./CreateUser.vue?vue&type=template&id=2fbff8ab&scoped=true&\"\nimport script from \"./CreateUser.vue?vue&type=script&lang=js&\"\nexport * from \"./CreateUser.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2fbff8ab\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}