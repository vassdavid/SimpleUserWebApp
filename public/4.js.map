{"version":3,"sources":["webpack:///./node_modules/vue-loader/lib/runtime/componentNormalizer.js","webpack:///./resources/js/components/CreateUser.vue?abbd","webpack:///./resources/js/components/CreateUser.vue?0eb7","webpack:///resources/js/components/CreateUser.vue","webpack:///./resources/js/components/CreateUser.vue"],"names":["normalizeComponent","scriptExports","render","staticRenderFns","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","options","_compiled","functional","_scopeId","context","this","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","call","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","h","existing","beforeCreate","concat","exports","data","name","dateOfBirth","emails","respErrors","sendedData","alertDangerMessage","alertSuccessMessage","computed","today","formState","state","nameState","dateState","emailsChanged","change","getTime","Date","now","nameInvalidFeedback","feedback","$","each","err","methods","emailState","duplicatedEmail","indexOf","index","lastIndexOf","emailInvalidFeedback","deleteRow","addRow","evt","preventDefault","push","reset","onReset","onSubmit","email","date_of_birth","axios","post","component","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","_m","_e","on","model","value","callback","$$v","expression","_l","$set","length","$event"],"mappings":"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","file":"4.js","sourcesContent":["/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () { injectStyles.call(this, this.$root.$options.shadowRoot) }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functioal component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"px-md-2\",attrs:{\"id\":\"CreateUser\"}},[_c('h1',[_vm._v(\"Make New User\")]),_vm._v(\" \"),(_vm.alertDangerMessage != ' ')?_c('div',{staticClass:\"alert alert-danger my-2 alert-dismissible fade show\",attrs:{\"role\":\"alert\"}},[_c('strong',[_vm._v(\"Upoad error:\")]),_vm._v(\" \"+_vm._s(_vm.alertDangerMessage)+\"\\n    \"),_vm._m(0)]):_vm._e(),_vm._v(\" \"),(_vm.alertSuccessMessage != ' ')?_c('div',{staticClass:\"alert alert-success my-2 alert-dismissible fade show\",attrs:{\"role\":\"alert\"}},[_c('strong',[_vm._v(\"Create new user is successful:\")]),_vm._v(\" \"+_vm._s(_vm.alertSuccessMessage)+\"\\n    \"),_vm._m(1)]):_vm._e(),_vm._v(\" \"),_c('b-form',{on:{\"submit\":_vm.onSubmit,\"reset\":_vm.onReset}},[_c('div',{attrs:{\"role\":\"group\"}},[_c('b-form-group',{attrs:{\"id\":\"inputNameGr\",\"description\":\"Let us know your name.\",\"label\":\"Enter your name\",\"label-for\":\"input1\",\"invalid-feedback\":_vm.nameInvalidFeedback,\"valid-feedback\":\"Thank you!\",\"state\":_vm.nameState,\"max\":\"35\"}},[_c('b-form-input',{attrs:{\"id\":\"inputName\",\"state\":_vm.nameState,\"trim\":\"\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"id\":\"inputDoBGr\",\"description\":\"Let us know your birthdate.\",\"label\":\"Enter your birthdate\",\"label-for\":\"inputDoB\",\"invalid-feedback\":\"Please give valid birthdate\",\"valid-feedback\":\"Thank you!\",\"state\":_vm.dateState}},[_c('b-form-input',{attrs:{\"id\":\"inputDoB\",\"state\":_vm.dateState,\"type\":\"date\",\"min\":\"1900-01-01\",\"max\":_vm.today,\"aria-invalid\":\"true\",\"trim\":\"\"},model:{value:(_vm.dateOfBirth),callback:function ($$v) {_vm.dateOfBirth=$$v},expression:\"dateOfBirth\"}})],1),_vm._v(\" \"),_vm._l((_vm.emails),function(email,index){return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('b-form-group',{attrs:{\"id\":'inputEmail' + index + 'Gr',\"description\":\"Let us know your email.\",\"label\":'Enter your email ' + (index+1),\"label-for\":'inputEmail' + index,\"invalid-feedback\":_vm.emailInvalidFeedback(index),\"valid-feedback\":\"Thank you!\",\"state\":_vm.emailState(index)}},[_c('b-input-group',[_c('b-form-input',{attrs:{\"id\":'inputEmail'+index,\"state\":_vm.emailState(index),\"type\":\"email\",\"trim\":\"\"},model:{value:(_vm.emails[index]),callback:function ($$v) {_vm.$set(_vm.emails, index, $$v)},expression:\"emails[index]\"}}),_vm._v(\" \"),_c('b-input-group-append',[_c('b-button',{attrs:{\"disabled\":_vm.emails.length == 1,\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.deleteRow(index)}}},[_vm._v(\"\\n                  Delete email\\n                \")])],1)],1)],1)],1)])}),_vm._v(\" \"),_c('button',{staticClass:\"mb-3 btn btn-secondary\",on:{\"click\":_vm.addRow}},[_vm._v(\"+ Add email\")])],2),_vm._v(\" \"),_c('div',{staticClass:\"text-right\"},[_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"primary\",\"disabled\":!_vm.formState}},[_vm._v(\"Submit\")]),_vm._v(\" \"),_c('b-button',{attrs:{\"type\":\"reset\",\"variant\":\"danger\"}},[_vm._v(\"Reset\")])],1)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"alert\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"alert\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateUser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateUser.vue?vue&type=script&lang=js&\"","<template>\n  <div id=\"CreateUser\" class=\"px-md-2\">\n    <h1>Make New User</h1>\n    <!-- alert messages -->\n    <!-- danger -->\n    <div class=\"alert alert-danger my-2 alert-dismissible fade show\" role=\"alert\" v-if=\"alertDangerMessage != ' '\">\n      <strong>Upoad error:</strong> {{ alertDangerMessage }}\n      <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n    </div>\n    <!-- success -->\n    <div class=\"alert alert-success my-2 alert-dismissible fade show\" role=\"alert\" v-if=\"alertSuccessMessage != ' '\">\n      <strong>Create new user is successful:</strong> {{ alertSuccessMessage }}\n      <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n    </div>\n\n\n    <b-form @submit=\"onSubmit\" @reset=\"onReset\">\n      <div role=\"group\">\n\n        <!-- Name: -->\n        <b-form-group\n          id=\"inputNameGr\"\n          description=\"Let us know your name.\"\n          label=\"Enter your name\"\n          label-for=\"input1\"\n          :invalid-feedback=\"nameInvalidFeedback\"\n          valid-feedback=\"Thank you!\"\n          :state=\"nameState\"\n          max=\"35\"\n        >\n          <b-form-input id=\"inputName\" :state=\"nameState\" v-model=\"name\" trim />\n          </b-form-group>\n        <!-- Date of Birth -->\n        <b-form-group\n          id=\"inputDoBGr\"\n          description=\"Let us know your birthdate.\"\n          label=\"Enter your birthdate\"\n          label-for=\"inputDoB\"\n          invalid-feedback=\"Please give valid birthdate\"\n          valid-feedback=\"Thank you!\"\n          :state=\"dateState\"\n        >\n          <b-form-input\n            id=\"inputDoB\"\n            :state=\"dateState\"\n            type=\"date\"\n            v-model=\"dateOfBirth\"\n            min=\"1900-01-01\"\n            :max=\"today\"\n            aria-invalid=\"true\"\n            trim\n          />\n        </b-form-group>\n\n        <!-- emails -->\n        <div class=\"row\" v-for=\"(email, index) in emails\">\n          <!-- email -->\n          <div class=\"col\">\n            <b-form-group\n              :id=\"'inputEmail' + index + 'Gr'\"\n              description=\"Let us know your email.\"\n              :label=\"'Enter your email ' + (index+1) \"\n              :label-for=\"'inputEmail' + index\"\n              :invalid-feedback=\"emailInvalidFeedback(index)\"\n              valid-feedback=\"Thank you!\"\n              :state=\"emailState(index)\"\n            >\n              <b-input-group>\n                <b-form-input\n                :id=\"'inputEmail'+index\"\n                :state=\"emailState(index)\"\n                type=\"email\"\n                v-model=\"emails[index]\"\n                trim\n                />\n                <b-input-group-append>\n                  <b-button\n                    :disabled=\"emails.length == 1\"\n                    @click=\"deleteRow(index)\"\n                    variant=\"danger\"\n                  >\n                    Delete email\n                  </b-button>\n                </b-input-group-append>\n\n              </b-input-group>\n\n          </b-form-group>\n        </div>\n\n        </div>\n          <button @click=\"addRow\" class=\"mb-3 btn btn-secondary\">+ Add email</button>\n        </div>\n\n        <div class=\"text-right\">\n          <b-button\n            type=\"submit\"\n            variant=\"primary\"\n            :disabled=\"!formState\"\n          >Submit</b-button>\n          <b-button type=\"reset\" variant=\"danger\">Reset</b-button>\n        </div>\n\n    </b-form>\n  </div>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      name: '',\n      dateOfBirth: '',\n      emails: [ ' ' ],\n      respErrors: [],\n      sendedData: [],\n      alertDangerMessage: ' ',\n      alertSuccessMessage: ' '\n    }\n  },\n  computed: {\n    today() {\n      let day = new Date()\n      return (\n        day.getFullYear()+ '-' +\n        ((day.getMonth()+1) < 10 ?  '0' : '') + (day.getMonth()+1) + '-' +\n        (day.getDate() < 10 ?  '0' : '') + day.getDate()\n      )\n    },\n    formState() {\n      let state = true, i = -1\n      while(this.emails[++i]) {\n          if(! this.emailState(i) ) {\n              state = false\n              break\n          }\n      }\n      if(state) {\n        state = this.nameState && this.dateState\n      }\n      return state\n    },\n    emailsChanged() {\n      let change = false\n      //get changing var\n      if(this.sendedData.emails) {\n        if(this.sendedData.emails.length == this.emails.length)\n          $.each(this.sendedData.emails, function(key, email){\n            if(email != this.emails[key]) {\n              change = true\n              return false\n            }\n          }.bind(this))\n        else\n          change = true\n      }\n      return change\n    },\n    nameState() {\n      let state = null\n      if( this.name != '' ) //default state\n        state = (\n          (\n            !this.respErrors['name']\n            ||\n            (\n              this.sendedData['name']\n              &&\n              this.sendedData['name'] != this.name\n            )\n          )\n          &&\n          this.name.length > 2\n          &&\n          this.name.length <= 35\n        )\n      return state\n    },\n    dateState() {\n      let dateFormat = /^\\d{4}-\\d{2}-\\d{2}$/, state = false\n      if(this.dateOfBirth == '')\n        state = null\n      else if( dateFormat.test(this.dateOfBirth) ) {\n        let date = new Date(this.dateOfBirth)\n        state = date.getTime() < Date.now()\n      }\n      return state\n    },\n    nameInvalidFeedback() {\n      let feedback = 'Invalid name format!'\n      //get response errors\n      if (\n        this.respErrors['name']\n        &&\n        this.sendedData['name'] == this.name\n      ) {\n        feedback = '(name: ' + this.sendedData['name'] + ') error:'\n        $.each(this.respErrors['name'], function(key,err){\n          feedback += ' ' + err\n        })\n      }\n      return feedback\n    }\n  },\n  methods: {\n    emailState(index) {\n      if(this.emails[index] == ' ')\n        return null\n      let mailFormat = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/,\n        str = this.emails[index]\n      return (\n        (\n          !this.respErrors['emails.'+index]\n          ||\n          this.emailsChanged\n        )\n        &&\n        mailFormat.test(str)\n        &&\n        !this.duplicatedEmail(index)\n      )\n    },\n    duplicatedEmail(index) {\n      return this.emails.indexOf(this.emails[index]) != this.emails.lastIndexOf(this.emails[index])\n    },\n    emailInvalidFeedback(index){\n      let feedback = 'Please give valid email'\n      //get response errors\n      if(this.respErrors['emails.'+index] && !this.emailsChanged) {\n        feedback = '(email '+ (index+1) +': ' + this.sendedData.emails[index] + ') error:'\n        $.each(this.respErrors['emails.'+index], function(key, err){\n          feedback += ' ' + err\n        })\n      } else if(this.duplicatedEmail(index)) {\n        feedback = 'Email is duplicated!'\n      }\n      return feedback\n    },\n    deleteRow(index) {\n      if(this.emails.length > 1)\n        this.emails.splice(index, 1)\n    },\n    addRow(evt) {\n      evt.preventDefault()\n      this.emails.push(' ')\n    },\n    reset() {\n      this.name = this.dateOfBirth = ''\n      this.emails = [ ' ' ]\n    },\n    onReset(evt) {\n      evt.preventDefault()\n      this.reset()\n    },\n    onSubmit(evt) {\n      evt.preventDefault()\n      //make nonrective\n      let emails = []\n      $.each(this.emails, function(key,email){\n        emails.push(email)\n      })\n       //data state when send to server\n      this.sendedData = {\n        name: this.name,\n        date_of_birth: this.dateOfBirth,\n        emails: emails\n      }\n      //set resp data to default\n      this.alertDangerMessage = this.respErrors =  this.alertSuccessMessage = ' '\n      //all form data is ready\n      if(this.formState) {\n        axios.post('/api/user', this.sendedData)\n          .then(function (response) {\n            let emails = []\n            $.each(response.data.emails, function(key, value){\n              emails.push(value.email)\n            })\n            //make success message\n            this.alertSuccessMessage = 'new user: (name: ' + response.data.name + ', date of birth: ' + response.data.date_of_birth + ', emails: ' + emails.join(', ') + ')'\n            //reset forms\n            this.reset()\n          }.bind(this))\n          .catch(function (error) {\n            //net::ERR_CONNECTION_REFUSED\n            if(!error.response) {\n              this.alertDangerMessage = \"Failed to send data to server! Can't access the server.\"\n            }\n            else {\n              //store messages\n              if(error.response.data.errors)\n                this.respErrors = error.response.data.errors\n              if(error.response.data.message)\n                this.alertDangerMessage = error.response.data.message\n\n            }\n           }.bind(this));\n       }\n     },\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n</style>\n","import { render, staticRenderFns } from \"./CreateUser.vue?vue&type=template&id=4de07139&scoped=true&\"\nimport script from \"./CreateUser.vue?vue&type=script&lang=js&\"\nexport * from \"./CreateUser.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4de07139\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}